{% load static %}
<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v4.0.1">
    <title>Farmer shopping</title>
    <link rel = "icon" href ="{% static 'kisaan.png' %}"
        type = "logo/x-icon">
    <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
    <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/pricing/">
    <style>

*{
            margin:0;
            padding:0;
            box-sizing: border-box;
            list-style: none;
            text-decoration: none;


        }
        .wrapper{
            display: flex;
            position: relative;

        }
        .wrapper .sidebar{
            position: fixed;
            width:200px;
            height:100%;
            background: black;
            padding: 30px 0;
        }
        .wrapper .sidebar h2{
            text-align: center;
            margin-bottom: 30px;
        }
        .wrapper .sidebar ul li{
            padding:15px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            border-top: 1px solid rgba(225,225,225,0.05);
        }
        .wrapper .sidebar ul li a{
            color:white;
            display: block;
        }
        .wrapper .sidebar ul li a .fas{
            width:25px;
            color:white
        }
        .wrapper .main_content{
            width:100%;
            margin-left:200px;
            z-index: 1;
        }
        .wrapper .sidebar ul li:hover{
            background: turquoise
        }
        .wrapper .sidebar ul li:hover a{
            color:#fff
        }


      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
      .top{
        color:white
      }

    </style>
    <!-- Bootstrap core CSS -->
<link href="/docs/4.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
<!-- CSS only -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <!-- Favicons -->
    <!-- <link href="{% static 'css/ecom.css' %}" rel="stylesheet"> -->
<link rel="apple-touch-icon" href="/docs/4.5/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/docs/4.5/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/docs/4.5/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/docs/4.5/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="/docs/4.5/assets/img/favicons/safari-pinned-tab.svg" color="#563d7c">
<link rel="icon" href="/docs/4.5/assets/img/favicons/favicon.ico">
<meta name="msapplication-config" content="/docs/4.5/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#563d7c">



    <!-- Custom styles for this template -->
    <link href="pricing.css" rel="stylesheet">
    <link href="navbar-top.css" rel="stylesheet">
  </head>
  <body>

  <nav class="navbar navbar-expand-lg" style="background-color: black;">
    <a  href="#">
      <img src="{% static 'kisaan.png' %}" width="30" height="30" class="d-inline-block align-top" alt="Kya yaar ek logo toh daal">
    </a>
    <ul class="navbar-nav mr-auto ">
      <li>
        <!-- <a class="nav-link" href="#"><i class="fas fa-seedling fa-2x"></i>My crops</a> -->
        <a class="top" href="{% url "farmer_home" %}"><i class="fas fa-home fa-2x"></i>Home </a>
      </li>
    </ul>
      <ul class="list-inline">
        <li class="list-inline-item top">

          <a  class="top" style="margin-right: 10px;" href='#' ><i class="fas fa-users fa-2x"></i>{{ user.username }}</a>
          <a  class="top" href="{% url 'logout' %}">LogOut <i class="fas fa-sign-out-alt fa-2x"></i></a>
       </li>

      </ul>
  </nav>

<!-- <div>
  {% with total_items=cart1|length %}
  {% if total_items > 0 %}
  Your cart:
  <a href="{% url "farmer_cart_detail" %}">
    {{ total_items }} item{{ total_items|pluralize }},
    ₹{{ cart1.get_total_price }}
  </a>
  {% else %}
  Your cart is empty.
  {% endif %}
  {% endwith %}
</div> -->

<div class="wrapper">
  <div class="sidebar">
      <h2 class="top">Categories</h2>
      <ul>
          <li class="order-price top"> <i class="fas fa-rupee-sign"></i>Order By price</li>
          <!-- <button type = "button" class = "order-price"> Order by Price </button> <br> -->
          <li class="order-quality top"> <i class="fas fa-stamp"></i>Order By Quality</li>
          <li class="top" ><a href="{% url 'suggestion' %}">  <i class="fas fa-question"></i>Confused ?</a></li>


      </ul>
  </div>
  <div class="main_content">

      <div class="container" >
                   <h2>Cropseeds</h2>
          <div class="row" id = "cropseeds">
            {% for c in cropseeds %}
          <a href="http://localhost:8000/farmer/shop/{{c.p_id}}">
          <div class="card m-3" style="width: 20rem;">
            <img class="card-img-top" src={{c.photo.url}} alternate='Image not supplied'>
            <div class="card-body">
              <h5 class="card-title">{{c.name}}</h5>
              <p class="card-text">Quality:{{c.quality}}</p>
              <a href="http://localhost:8000/farmer/shop/{{c.p_id}}" class="btn btn-primary">₹{{c.price}}</a>

            </div>
          </div>
        </a>

          {% endfor %}
            </div>

            <h2>Fertilizers</h2>
            <div class="row" id = "fertilizer">

              {% for c in ferts %}
            <a href="http://localhost:8000/farmer/shop/{{c.p_id}}">
            <div class="card m-3" style="width: 20rem;">
              <img class="card-img-top" src={{c.image.url}} alternate='Image not supplied'>
              <div class="card-body">
                <h5 class="card-title">{{c.name}}</h5>
                <p class="card-text">Quality:{{c.quality}}</p>
                <a href="http://localhost:8000/farmer/shop/{{c.p_id}}" class="btn btn-primary">₹{{c.price}}</a>

              </div>
            </div>
          </a>
            {% endfor %}
              </div>
              <h2>Pesticides</h2>
              <div class="row" id = "pesticide">

                {% for c in pests %}
              <a href="http://localhost:8000/farmer/shop/{{c.p_id}}">
              <div class="card m-3" style="width: 20rem;">
                <img class="card-img-top" src='{{c.image.url}}' alternate='Image not supplied'>
                <div class="card-body">
                  <h5 class="card-title">{{c.name}}</h5>
                  <p class="card-text">Quality:{{c.quality}}</p>
                  <a href="http://localhost:8000/farmer/shop/{{c.p_id}}" class="btn btn-primary">₹{{c.price}}</a>

                </div>
              </div>
            </a>
              {% endfor %}
                </div>



      </div>
  </div>
</div>






















<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script>
    $(document).ready(function(){
      var output = '';
    $('.order-price').on('click',function() {
      console.log("Click")
    $.ajax({
	url: 'http://localhost:8000/order/cost',
	dataType: 'json',
	type: 'GET',
	success: function(data){
    console.log(data)
		$('#cropseeds').empty();
    $('#fertilizer').empty();
    $('#pesticide').empty(); //to clean the div
		//console.log(typeof(data));
		//var data = JSON.stringify(data);
		//var data = JSON.parse(data);
    arr = ['seeds','ferts','pests'];
		//loop through data, output on the window
		seed = data[0];
    fert = data[1];
    pest = data[2];
    console.log(typeof(seed));
    output = '';
    for(i=0; i<Object.keys(seed).length; i++){

      var a = '<a href = "http://localhost:8000/farmer/shop/' + seed[i].p_id +'"><div class="card m-3" style="width: 20rem;"><div class = "col"><img class="card-img-top"  src="http://localhost:8000/media/'+ seed[i].photo +'" alt="Card image cap">';
      var b = '<div class="card-body"><h5 class="card-title">'+ seed[i].name +'</h5>';
      var c = '<p class="card-text">'+seed[i].quality +'/5</p><p class ="card">';
      var d = '<a href="http://localhost:8000/farmer/shop/"+ seed[i].p_id class="btn btn-primary">Rs'+seed[i].price + '</a></div></div></div></a>';
      output += a+b+c+d;

    }
	$('#cropseeds').append(output);
  output = '';
    for(i=0; i<Object.keys(fert).length; i++){

      var a = '<a href = "http://localhost:8000/farmer/shop/' + fert[i].p_id +'"><div class="card m-3" style="width: 20rem;"><div class = "col"><img class="card-img-top"  src="http://localhost:8000/media/'+ fert[i].image +'" alt="Card image cap">';
      var b = '<div class="card-body"><h5 class="card-title">'+ fert[i].name +'</h5>';
      var c = '<p class="card-text">'+fert[i].quality +'/5</p><p class ="card">';
      var d = '<a href="http://localhost:8000/farmer/shop/"'+ fert[i].p_id +' class="btn btn-primary">Rs'+fert[i].price + '</a></div></div></div></a>';
      output += a+b+c+d;
    }
	$('#fertilizer').append(output);
  output = '';
    for(i=0; i<Object.keys(pest).length; i++){

      var a = '<a href = "http://localhost:8000/farmer/shop/' + pest[i].p_id +'"><div class="card m-3" style="width: 20rem;"><div class = "col"><img class="card-img-top"  src="http://localhost:8000/media/'+ pest[i].image +'" alt="Card image cap">';
      var b = '<div class="card-body"><h5 class="card-title">'+ pest[i].name +'</h5>';
      var c = '<p class="card-text">'+pest[i].quality +'/5</p><p class ="card">';
      var d = '<a href="http://localhost:8000/farmer/shop/"+ pest[i].p_id class="btn btn-primary">Rs'+pest[i].price + '</a></div></div></div></a>';
      output += a+b+c+d;
    }
	$('#pesticide').append(output);
  }

		});

});
$('.order-quality').on('click',function() {
      console.log("Click")
    $.ajax({
	url: 'http://localhost:8000/order/quality',
	dataType: 'json',
	type: 'GET',
	success: function(data){
    //console.log(data)
		$('#cropseeds').empty();
    $('#fertilizer').empty();
    $('#pesticide').empty(); //to clean the div
		//console.log(typeof(data));
		//var data = JSON.stringify(data);
		//var data = JSON.parse(data);
    arr = ['seeds','ferts','pests'];
		//loop through data, output on the window
		seed = data['0'];
        fert = data['1'];
        pest = data['2'];
    console.log(seed);
    output = '';
    for(i=0; i< Object.keys(seed).length; i++){
              // '<a href = "http://localhost:8000/indi/cs/' + seed[i].id +'"><div class="card m-3" style="width: 20rem;"><div class = "col"><img class="card-img-top" " src="'+ seed[i].photo +'" alt="Card image cap">';
      var a = '<a href = "http://localhost:8000/farmer/shop/' + seed[i].p_id +'"><div class="card m-3" style="width: 20rem;"><div class = "col"><img class="card-img-top"  src="http://localhost:8000/media/'+ seed[i].photo +'" alt="Card image cap">';
      var b = '<div class="card-body"><h5 class="card-title">'+ seed[i].name +'</h5>';
      var c = '<p class="card-text">'+seed[i].quality +'/5</p><p class ="card">';
      var d = '<a href="#" class="btn btn-primary">Rs'+seed[i].price + '</a></div></div></div></a>';
      output += a+b+c+d;

    }
	$('#cropseeds').append(output);
  output = '';
    for(i=0; i<Object.keys(fert).length; i++){
      var a = '<a href = "http://localhost:8000/farmer/shop/' + fert[i].p_id +'"><div class="card m-3" style="width: 20rem;"><div class = "col"><img class="card-img-top"  src="http://localhost:8000/media/'+ fert[i].image +'" alt="Card image cap">';
      var b = '<div class="card-body"><h5 class="card-title">'+ fert[i].name +'</h5>';
      var c = '<p class="card-text">'+fert[i].quality +'/5</p><p class ="card">';
      var d = '<a href="#" class="btn btn-primary">Rs'+fert[i].price + '</a></div></div></div></a>';
      output += a+b+c+d;
    }
	$('#fertilizer').append(output);
  output = '';
    for(i=0; i<Object.keys(pest).length; i++){
      var a = '<a href = "http://localhost:8000/farmer/shop/' + pest[i].p_id +'"><div class="card m-3" style="width: 20rem;"><div class = "col"><img class="card-img-top" src="http://localhost:8000/media/'+ pest[i].image +'" alt="Card image cap">';
      var b = '<div class="card-body"><h5 class="card-title">'+ pest[i].name +'</h5>';
      var c = '<p class="card-text">'+pest[i].quality +'/5</p><p class ="card">';
      var d = '<a href="#" class="btn btn-primary">Rs'+pest[i].price + '</a></div></div></div></a>';
      output += a+b+c+d;
    }
	$('#pesticide').append(output);
  }

		});

});
    });
    </script>




    <script>window.jQuery || document.write('<script src="/docs/4.5/assets/js/vendor/jquery.slim.min.js"><\/script>')</script>
    <script src="/docs/4.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-1CmrxMRARb6aLqgBO7yyAxTOQE2AKb9GfXnEo760AUcUmFx3ibVJJAzGytlQcNXd" crossorigin="anonymous"></script>
    <!-- JS, Popper.js, and jQuery -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
</body>
</html>
